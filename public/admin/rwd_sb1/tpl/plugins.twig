{% extends 'templates/main.twig' %}
{% block content %}
<div class="row">
	<div class="col">
		<ul class="list-group list-group-flush">
		{% for plugin in plugins %}
		  <li class="list-group-item"><span class="float-left">{{ plugin.plugin_name }} | version: {{ plugin.version }}</span>
		  {% if plugin.active %}
			<form action="{{ path_for('admin.plugins.deactive') }}" method="post">
			<input type="hidden" name="plugin_name" value="{{ plugin.plugin_name }}">
			<button type="submit" class="btn btn-warning float-right mx-2">Deactive</button>
			</form>
		  {% else %}
			<form action="{{ path_for('admin.plugins.active') }}" method="post">
			<input type="hidden" name="plugin_name" value="{{ plugin.plugin_name }}">
			<button type="submit" class="btn btn-success float-right mx-2" {% if not plugin.install %}disabled{% endif %}>Active</button>
			</form>
		  {% endif %}
			
		  {% if plugin.install %}
			<form action="{{ path_for('admin.plugins.uninstall') }}" method="post">
			<input type="hidden" name="plugin_name" value="{{ plugin.plugin_name }}">
			<button type="submit" class="btn btn-danger float-right mx-2" {% if plugin.active %}disabled{% endif %}>Uninstall</button>
			</form>
		  {% else %}
			<form action="{{ path_for('admin.plugins.install') }}" method="post">
			<input type="hidden" name="plugin_name" value="{{ plugin.plugin_name }}">
			<button type="submit" class="btn btn-success float-right mx-2">Install</button>
			</form>
		  {% endif %}
		  </li>
		{% endfor %}
		</ul>
	</div>
</div>  
{% endblock %}