let pid,action,inputs=document.querySelectorAll("[data-post]"),plotEditor=null,postEditor=null;for(i=0;i<inputs.length;i++)inputs[i].addEventListener("click",function(){pid=this.closest("[data-postid]").getAttribute("data-postid"),"like"===(action=this.getAttribute("data-post"))&&B.ajax({method:"POST",url:ajaxUrl,type:"json",data:{module:"plot",route:action,id:pid,url:window.location.pathname}}).then(function(t){let i=JSON.parse(t);B.prependHtml(".container",i.likeit)}),"editPost"===action&&(null===postEditor&&(postEditor=B.initJodit("#editPostJodit")),B.show("#editPost")),"editPlot"===action&&(null===plotEditor&&(plotEditor=B.initJodit("#editPostJodit")),B.show("#editPlot"))});